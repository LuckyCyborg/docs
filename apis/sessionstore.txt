# Session Store

## Configuration

Since HTTP driven applications are stateless, sessions provide a way to store information about the user across requests. Nova ships with a variety of session back-ends available for use through a clean, unified API.

The session configuration is stored in `app/Config/Session.php`. Be sure to review the well documented options available to you in this file. By default, Nova is configured to use the file session driver, which will work well for the majority of applications.

#### Reserved Keys

The Nova framework uses the `flash` session key internally, so you should not add an item to the session by that name.

## Session Usage

#### Storing An Item In The Session

{line-numbers=off}
~~~~~~~~
Session::put('key', 'value');
~~~~~~~~

#### Push A Value Onto An Array Session Value

{line-numbers=off}
~~~~~~~~
Session::push('user.teams', 'developers');
~~~~~~~~

#### Retrieving An Item From The Session

{line-numbers=off}
~~~~~~~~
$value = Session::get('key');
~~~~~~~~

#### Retrieving An Item Or Returning A Default Value

{line-numbers=off}
~~~~~~~~
$value = Session::get('key', 'default');

$value = Session::get('key', function() { return 'default'; });
~~~~~~~~

#### Retrieving An Item And Forgetting It

{line-numbers=off}
~~~~~~~~
$value = Session::remove('key', 'default');
~~~~~~~~

#### Retrieving All Data From The Session

{line-numbers=off}
~~~~~~~~
$data = Session::all();
~~~~~~~~

#### Determining If An Item Exists In The Session

{line-numbers=off}
~~~~~~~~
if (Session::has('users'))
{
    //
}
~~~~~~~~

#### Removing An Item From The Session

{line-numbers=off}
~~~~~~~~
Session::forget('key');
~~~~~~~~

#### Removing All Items From The Session

{line-numbers=off}
~~~~~~~~
Session::flush();
~~~~~~~~

#### Regenerating The Session ID

{line-numbers=off}
~~~~~~~~
Session::regenerate();
~~~~~~~~

## Flash Data

Sometimes you may wish to store items in the session only for the next request. You may do so using the `Session::flash` method:

{line-numbers=off}
~~~~~~~~
Session::flash('key', 'value');
~~~~~~~~

#### Reflashing The Current Flash Data For Another Request

{line-numbers=off}
~~~~~~~~
Session::reflash();
~~~~~~~~

#### Reflashing Only A Subset Of Flash Data

{line-numbers=off}
~~~~~~~~
Session::keep(array('username', 'email'));
~~~~~~~~

## Session Drivers

The session "driver" defines where session data will be stored for each request. Nova ships with several great drivers out of the box:

- `file` - sessions will be stored in app/Storage/Sessions.
- `database` - sessions will be stored in a database used by your application.
